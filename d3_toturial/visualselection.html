<!doctype html>
    <head>
        <title>D3 Project 1 - setup</title>
    </head>
    <body>
        <div>
            <button onclick="update()">Load new Data</button>
        </div>
        <div class="entry">
            <span class="state"></span>
            <span>this is entry number 1</p>
        </div>
        <div class="entry">
            <span class="state"></span>
            <span>this is entry number 2</span>
        </div>
        <script type="text/javascript" src="../node_modules/d3/build/d3.min.js"></script>
        <script type="text/javascript">
            function update(){
                var listOfEntry = [
                    'this is entry number 1.1',
                    'this is entry number 2.1',
                    'this is entry number 3',
                    'this is entry number 4'
                ];

                var dataPoints = d3.select('body').selectAll('.entry').data(listOfEntry)

                //update the existing ones
                dataPoints.select('.state').text('[updated]');
                dataPoints.select('span:not(.state)').text(function(d){return d;});

                //add new one
                var added = dataPoints.enter().append('div');
                added.attr('class', 'entry')
                    .append('span')
                    .attr('class', 'state')
                    .text('[new]');

                added.append('span')
                    .text(function(d){ return d;});
            }    
        </script>
    </body>
</html>